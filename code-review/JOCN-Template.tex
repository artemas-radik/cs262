\documentclass[9pt,twocolumn,twoside]{osajnl}
\usepackage{hyperref}
\journal{jocn} 
\usepackage{xcolor}
\usepackage{listings}
\lstset{
  basicstyle=\fontfamily{lmvtt}\selectfont\small\color{blue},
  columns=fullflexible,
}


% Set the article type for journal submissions. Comment out this line for Optica Open preprint submissions.
\setboolean{shortarticle}{true}
% true = letter / tutorial
% false = research / review article

\title{ Demo Day 1 Code Review: Aayush Karan \& Michael Hla }

\author[1]{Artemas Radik}
\author[2]{Swati Goel}

\affil[1]{Harvard College, A.B./S.M. Computer Science \& Statistcs, artemas@college.harvard.edu}
\affil[2]{Harvard College, A.B. Computer Science \& Physics, sgoel@college.harvard.edu}

%% To be edited by editor
% \dates{Compiled \today}

%% To be edited by editor
% \doi{\url{http://dx.doi.org/10.1364/XX.XX.XXXXXX}}

\begin{abstract}
JOCN article style and format is being updated to conform to Optica journal style and format. This new template is now required for preparing a research article for submission to the \emph{Journal of Optical Communications and Networking}. Consult the \href{https://www.opg.optica.org/submit/templates/}{Author Style Guide} for general information about manuscript preparation. Authors may also \href{https://opticaopen.org}{submit articles} prepared using this template to the Optica Publishing Group preprint server, \href{https://preprints.opticaopen.org}{Optica Open}. However, doing so is optional. Please refer to the submission guidelines found there. Note that copyright and licensing information should no longer be added to your Journal or Optica Open manuscript.
\end{abstract}

\setboolean{displaycopyright}{false} % Do not include copyright or licensing information in submission.

\begin{document}

\maketitle
\section{Introduction}
This code review was conducted on commit \texttt{573fc69} of the repository submitted to us by Aayush and Michael, available \href{https://github.com/akaran1729/CS_262_Wire_Protocol}{publicly on GitHub}. Aayush and Michael are reachable via email at \texttt{karan@college.harvard.edu} and \texttt{michaelhla@college.harvard.edu}, respectively. The code review aims to answer the following questions with regards to the submission:

\begin{enumerate}
  \item Does it function as specified?
  \item Is the code rational, correct, and clear?
  \item Is the code and installation documentation adequate?
\end{enumerate}

\section{Functionality}

We tested both the gRPC and non-GRPC versions of the program for the following functionaity.
\begin{enumerate}
  \item Creating an account with a unique username.
  \item List all accounts or a subset of the accounts by text wildcard.
  \item Send a message to a recipient. If the recipient is logged in, deliver immediately; otherwise queue the message and deliver on demand. If the message is sent to someone who isn't a user, return an error message.
  \item Deliver undelivered messages to a particular user.
  \item Delete an account. You will need to specify the semantics of what happens if you attempt to delete an account that contains undelivered message.
\end{enumerate}

\medskip

\noindent \textbf{Testing}

\medskip

\noindent We began by following the provided installation instructions in the engineering notebook, starting the non-gRPC server via \texttt{python3 socket\_server.py 10.250.113.127 5000}. Our first test involved creating an account with the client as seen below.

\begin{lstlisting}[caption={Account Creation Test}]
python3 socket_client.py 10.250.113.127 5000
Welcome to Messenger! Please login or create an account:
Create Account
a
Account created. Welcome a!
\end{lstlisting}

\noindent We wanted to ensure that unique usernames were enforced, so we spawned another client and tried to create another account with the existing username.

\begin{lstlisting}[caption={Unique Username Test}]
python3 socket_client.py 10.250.113.127 5000
Welcome to Messenger! Please login or create an account:
Create Account
a
The account a already exists. Please try again.
\end{lstlisting}

\noindent We were satisfied with these two tests as evidence of account functionaity, so we began testing the username listing feature. As a prerequisite, we created additional accounts with usernames \texttt{blueberry}, \texttt{cranberry} and \texttt{elderberry}. Per the engineering notebook, the username listing feature follows Python RegEx. Thus we began by listing usernames following the \texttt{.*} expression, which we expected to return all usernames. We then listed usernamed following the \texttt{\textasciicircum.*berry.*\$} expression, expecting the last three usernames. We were highly impressed with the RegEx matching functionaity.

\begin{lstlisting}[caption={Account List and Filter Test}]
python3 socket_client.py 10.250.113.127 5000
Welcome to Messenger! Please login or create an account:
List Accounts
.*
Users matching .*:
a blueberry cranberry elderberry 
List Accounts
^.*berry.*$
Users matching ^.*berry.*$:
blueberry cranberry elderberry
\end{lstlisting}

\noindent The next test involved sending a message from the logged in \texttt{blueberry} client to the logged in \texttt{cranberry} client.

\begin{lstlisting}[caption={Send Live Message Test}]
python3 socket_client.py 10.250.113.127 5000
Welcome to Messenger! Please login or create an account:
Create Account
blueberry
Account created. Welcome blueberry!
Send
To: 
cranberry
Message: 
hello there, cranberry.

Message successfully sent.
\end{lstlisting}

\noindent The \texttt{cranberry} client successfully received the message.

\begin{lstlisting}[caption={Receive Live Message Test}]
python3 socket_client.py 10.250.113.127 5000
Welcome to Messenger! Please login or create an account:
Create Account
cranberry
Account created. Welcome cranberry!
<blueberry>: hello there, cranberry.
\end{lstlisting}

\noindent Next we logged out \texttt{blueberry} and sent an outbound message from \texttt{cranberry}. Upon re-logging in \texttt{blueberry} we requested our undelivered messages via \texttt{Open Undelivered Messages} as described in the engineering notebook.

\begin{lstlisting}[caption={Receive Undelivered Message Test}]
python3 socket_client.py 10.250.113.127 5000
Welcome to Messenger! Please login or create an account:
Login 
blueberry
Welcome back blueberry!
Open Undelivered Messages
<cranberry>: Hi, blueberry!
\end{lstlisting}

\noindent The blueberry client successfully received the undelivered message. Sending a message to a non-existent user also correctly returns an error as seen below.

\begin{lstlisting}[caption={Send Message to Nonexistent User Test}]
python3 socket_client.py 10.250.113.127 5000
Welcome to Messenger! Please login or create an account:
Login
blueberry
Welcome back blueberry!
Send
To: 
gooseberry
Message: 
do you exist?
Sorry, message recipient not found. Please try again. 
\end{lstlisting}

\noindent The last remaining functionaity we tested for was deletion, as seen below on the \texttt{blueberry} account.

\begin{lstlisting}[caption={Account Deletion Test}]
python3 socket_client.py 10.250.113.127 5000
Welcome to Messenger! Please login or create an account:
Login
blueberry
Welcome back blueberry!
Delete Account
Account blueberry successfully deleted. 
Welcome to Messenger! Please login or create an account:
\end{lstlisting}

\noindent Thankfully, the gRPC submission command structure follows extremely closely to the non-gRPC one. The only distinction is that no prompt is required to
automatically deliver queued messages on the gRPC implementation. We ran similarly extensive testing on the gRPC implementation and verify that all functionaity is present, but have omitted those tests from this report as they repeat much of what is already present.

%Example with the corresponding author designated by an asterisk:

%\author{Author One\authormark{1} and Author Two\authormark{2,*}}

%\address{\authormark{1}Peer Review, Publications Department,
%Optica Publishing Group, 2010 Massachusetts Avenue NW,
%Washington, DC 20036, USA\\
%\authormark{2}Publications Department, Optica Publishing Group,
%2010 Massachusetts Avenue NW, Washington, DC 20036, USA\\
%%\authormark{3}xyz@optica.org}

%\email{\authormark{*}opex@optica.org}}

% Example with the corresponding author designated by an asterisk and a note indicating equal contributions by two authors.

%\author{Author One\authormark{1,3} and Author %Two\authormark{2,3,*}}

% \address{\authormark{1}Peer Review, Publications Department,
% Optica Publishing Group, 2010 Massachusetts Avenue NW, %Washington, DC 20036, USA\\
% \authormark{2}Publications Department, Optica Publishing Group, %2010 Massachusetts Avenue NW, Washington, DC 20036, USA\\
% \authormark{3}The authors contributed equally to this work.\\
%\authormark{*}opex@optica.org}}

% \section{Examples of Article Components}
% \label{sec:examples}

\section{Code Rationality, Correctness, and Clarity}
\label{sec:examples}

TBD!

\section{Documentation}

It is not necessary to place figures and tables at the back of the manuscript. Figures and tables should be sized as they are to appear in the final article. Do not include a separate list of figure captions and table titles.

Figures and Tables should be labelled and referenced in the standard way using the \verb|\label{}| and \verb|\ref{}| commands.

\subsection{Sample Figure}

Figure \ref{fig:falsecolor} shows an example figure.

% \begin{figure}[htbp]
% \centering
% \fbox{\includegraphics[width=.8\linewidth]{sample}}
% \caption{False-color image, where each pixel is assigned to one of seven reference spectra.}
% \label{fig:falsecolor}
% \end{figure}

\subsection{Author Photographs}
Author photographs. The final printed size of an author photograph is exactly 1 inch wide by 1 1/4 inches long (6 picas × 7 1/2 picas). Please ensure that the author photographs you submit are proportioned similarly.

\subsection{Sample Table}

Table \ref{tab:shapefunctions} shows an example table.

\begin{table}[htbp]
\centering
\caption{\bf Shape Functions for Quadratic Line Elements}
\begin{tabular}{ccc}
\hline
local node & $\{N\}_m$ & $\{\Phi_i\}_m$ $(i=x,y,z)$ \\
\hline
$m = 1$ & $L_1(2L_1-1)$ & $\Phi_{i1}$ \\
$m = 2$ & $L_2(2L_2-1)$ & $\Phi_{i2}$ \\
$m = 3$ & $L_3=4L_1L_2$ & $\Phi_{i3}$ \\
\hline
\end{tabular}
  \label{tab:shapefunctions}
\end{table}

\section{Sample Equation}

Let $X_1, X_2, \ldots, X_n$ be a sequence of independent and identically distributed random variables with $\text{E}[X_i] = \mu$ and $\text{Var}[X_i] = \sigma^2 < \infty$, and let
\begin{equation}
S_n = \frac{X_1 + X_2 + \cdots + X_n}{n}
      = \frac{1}{n}\sum_{i}^{n} X_i
\label{eq:refname1}
\end{equation}
denote their mean. Then as $n$ approaches infinity, the random variables $\sqrt{n}(S_n - \mu)$ converge in distribution to a normal $\mathcal{N}(0, \sigma^2)$.

\section{Sample Algorithm}

Algorithms can be included using the commands as shown in algorithm \ref{alg:euclid}.

\begin{algorithm}
\caption{Euclid’s algorithm}\label{alg:euclid}
\begin{algorithmic}[1]
\Procedure{Euclid}{$a,b$}\Comment{The g.c.d. of a and b}
\State $r\gets a\bmod b$
\While{$r\not=0$}\Comment{We have the answer if r is 0}
\State $a\gets b$
\State $b\gets r$
\State $r\gets a\bmod b$
\EndWhile\label{euclidendwhile}
\State \textbf{return} $b$\Comment{The gcd is b}
\EndProcedure
\end{algorithmic}
\end{algorithm}

\section{Supplemental Material}

Consult the Author Guidelines for Supplementary Materials in Optica's Journals for details on accepted types of materials and instructions on how to cite them. For preprints submitted to Optica Open a link to supplemental material should be included in the submission, but do not upload the material.
All materials must be associated with a figure, table, or equation or be referenced in the results section of the manuscript.
(1) 2D and 3D image files and video must be labeled “Visualization,” not “Movie,” “Video,” “Figure,” etc.
(2) Machine-readable data (for example, csv files) must be labeled  “Data File.”  Number data files and visualizations consecutively, e.g., “Visualization 1, Visualization 2….”
(3) Large datasets or code files must be placed in an open, archival database.  Such items should be mentioned in the text as either “Dataset” or “Code,” as appropriate, and also be cited in the references list.  For example, “see Dataset 1 (Ref. [1]) and Code 1 (Ref [2]).” Here are examples of the references:

\subsection{Sample Dataset Citation}

1. M. Partridge, "Spectra evolution during coating," figshare (2014) [retrieved 13 May 2015], http://dx.doi.org/10.6084/m9.figshare.1004612.

\subsection{Sample Code Citation}

2. C. Rivers, "Epipy: Python tools for epidemiology," (figshare, 2014) [retrieved 13 May 2015], http://dx.doi.org/10.6084/m9.figshare.1005064.

\section{Funding and Acknowledgments}

Formal funding sources should be listed in a separate paragraph block before any other acknowledgment information. Funding sources and any associated grant numbers should match the information entered into the Prism manuscript system. Funders should be listed without any introductory language or use of labels (do not use labels such as “grant no.”). The acknowledgments may contain any information that is not related to funding. Here is an example:

\section*{Funding}National Science Foundation (NSF) (1263236, 0968895, 1102301); The 863 Program (2013AA014402).


\section*{Acknowledgments}The authors thank H. Haase, C. Wiede, and J. Gabler for technical support.

\section{References}

Full references (to aid the editor and reviewers) must be included. This will be produced automatically if you are using a .bib file.

\bigskip
\noindent Add citations manually or use BibTeX. See \cite{Chitimalla:17,Wen:16}.

% Bibliography
% \bibliography{sample}

% Manual citation list
% \begin{thebibliography}{1}
% \bibitem{Zhang:14}
% Y.~Zhang, S.~Qiao, L.~Sun, Q.~W. Shi, W.~Huang, %L.~Li, and Z.~Yang,
 % \enquote{Photoinduced active terahertz metamaterials with nanostructured
  % vanadium dioxide film deposited by sol-gel method,} Opt. Express \textbf{22},
  % 11070--11078 (2014).
% \end{thebibliography}




% JOCN authors may include their biographies and photos. This section is not required 

 \section*{Author Biographies}

\setlength\intextsep{0pt}

\noindent \textbf{First A. Author} (M’76–SM’81–F’87) and the other authors may include biographies at the end of regular papers. This author became a Member (M) of IEEE in 1976, a Senior Member (SM) in 1981, and a Fellow (F) in 1987. The first paragraph may contain a place and/or date of birth (list place, then date). Next, the author’s educational background is listed. The degrees should be listed with type of degree in what field, which institution, city, state, and country, and year degree was earned. The author’s major field of study should be lower-cased.
  
The second paragraph uses the pronoun of the person (he or she) and not the author’s last name. It lists military and work experience, including summer and fellowship jobs. Job titles are capitalized. The current job must have a location; previous positions may be listed without one. Information concerning previous publications may be included. Try not to list more than three books or published articles. The format for listing publishers of a book within the biography is: title of book (city, state: publisher name, year) similar to a reference. Current and previous research interests end the paragraph.

The third paragraph begins with the author’s title and last name (e.g., Dr. Smith, Prof. Jones, Mr. Kajor, Ms. Hunter). List any memberships in professional societies. Finally, list any awards and work for committees and publications.  If a photograph is provided, the biography will be indented around it. The photograph is placed at the top left of the biography. Personal hobbies will be deleted from the biography.

\medskip

   \noindent
   \textbf{Alice Smith} received her BSc (Mathematics) in 2000 from The University of Maryland. Her research interests also include lasers and optics.
  
\end{document}
